#### 更新DNS时会发生什么

DNS也就是域名和IP的映射，可以存放在本地或者DNS服务器中

DNS服务器分为迭代式服务器和权威服务器

对于权威DNS服务器：你可以使用dig命令向指定的DNS服务器请求某个网站的IP

对于迭代式DNS服务器：他们本身不存储映射关系，但是他们会向权威服务器去请求，然后保存下来以防后面还有人来找。

你给迭代服务器一个域名，是从后向前解析获得IP地址的，会不断地向不同的DNS服务器请求最后得到github.com的真正IP地址，显示为A类记录

**进入正题，更新DNS有两种选择**

1. 仅更新IP地址：

由于本地DNS有缓存，缓存时间TTL一般设定为三分钟，因此，在获得地址后的三分钟内更改IP地址，是获取不到最新的IP地址的

![image-20200628112631861](C:\Users\huangmingz\AppData\Roaming\Typora\typora-user-images\image-20200628112631861.png)

1. 更新服务器：

如果说更新了服务器，也就是说你的域名跟IP的键值对换了一个权威服务器存放，那么这个更新时间会比较长，对于中间的迭代服务器来说，TTL一般是两天，也就是说在最长48小时后你才可以找到新的权威服务器



#### 举个例子：

别人给了我一个地址叫广东省广州市越秀区流花路167号，我想去这个地方，那么我肯定不知道路线，但是我知道有个人知道广东省在哪，就这样我找到了广东省并知道了广东省下的所有市的信息，接着就是继续找区、路、门牌号。

